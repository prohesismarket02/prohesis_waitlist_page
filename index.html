<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prohesis - The Future of Onchain Prediction</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
      color: #111;
    }

    /* --- Modern Animated Gradient Aurora Background --- */
    .bg-aurora {
      position: fixed;
      inset: 0;
      overflow: hidden;
      background: radial-gradient(circle at 20% 20%, rgba(168, 85, 247, 0.15) 0%, transparent 50%),
                  radial-gradient(circle at 80% 80%, rgba(6, 182, 212, 0.15) 0%, transparent 50%),
                  linear-gradient(160deg, #f9f9ff 0%, #fef9ff 100%);
      z-index: 0;
    }

    .aurora-layer {
      position: absolute;
      width: 200%;
      height: 200%;
      background: linear-gradient(120deg, rgba(236, 72, 153, 0.3), rgba(139, 92, 246, 0.3), rgba(6, 182, 212, 0.3));
      filter: blur(100px);
      animation: moveAurora 20s ease-in-out infinite alternate;
      opacity: 0.8;
    }

    @keyframes moveAurora {
      0% { transform: translate(-10%, -10%) rotate(0deg); }
      50% { transform: translate(10%, 10%) rotate(45deg); }
      100% { transform: translate(-5%, 15%) rotate(90deg); }
    }

    /* Floating light particles */
    .particle {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
      animation: floatParticle linear infinite;
      opacity: 0.6;
    }

    @keyframes floatParticle {
      0% { transform: translateY(0) scale(1); opacity: 0.5; }
      50% { transform: translateY(-40px) scale(1.2); opacity: 0.8; }
      100% { transform: translateY(0) scale(1); opacity: 0.5; }
    }

    .animated-gradient {
      background: linear-gradient(270deg, #ec4899, #8b5cf6, #06b6d4);
      background-size: 600% 600%;
      animation: gradientShift 8s ease infinite;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .dots-bg {
      position: absolute;
      inset: 0;
      background-image: radial-gradient(circle at 1px 1px, rgba(147, 51, 234, 0.08) 1px, transparent 0);
      background-size: 30px 30px;
      z-index: 1;
      opacity: 0.5;
      transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .glass-form {
      background: rgba(255, 255, 255, 0.45);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border: 1px solid rgba(255, 255, 255, 0.25);
      border-radius: 0.75rem;
      box-shadow: 0 10px 25px rgba(0,0,0,0.05);
      transition: all 0.3s ease;
    }

    .glass-form:hover {
      transform: scale(1.01);
      border-color: rgba(255,255,255,0.5);
    }

    #submit-button {
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    #submit-button:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 7px 25px rgba(0,0,0,0.2);
    }

    .loader {
      border: 2px solid rgba(255,255,255,0.3);
      border-top: 2px solid #fff;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-up { animation: fadeUp 0.8s ease-out forwards; }
  </style>
</head>

<body class="flex items-center bg-gradient-to-b from-[#C7E8F7] from-20% to-[#DD9191] to-100% justify-center px-4 py-10 relative overflow-hidden">
  <!-- Animated Background -->
  <!-- <div class="bg-aurora">
    <div class="aurora-layer"></div>
    Floating particles -->
    <!-- <div class="particle" style="top: 30%; left: 10%; width: 8px; height: 8px; animation-duration: 6s;"></div>
    <div class="particle" style="top: 60%; left: 80%; width: 10px; height: 10px; animation-duration: 8s;"></div>
    <div class="particle" style="top: 80%; left: 40%; width: 6px; height: 6px; animation-duration: 10s;"></div>
    <div class="particle" style="top: 20%; left: 70%; width: 7px; height: 7px; animation-duration: 7s;"></div>
  </div> -->

  <div class="dots-bg" id="dots-bg"></div>

  <!-- Main Content -->
  <main class="relative z-10 max-w-5xl w-full text-center fade-up">
    <div class="inline-block bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 text-white text-xs font-semibold px-4 py-1 rounded-full mb-8 shadow-lg">
      THE FUTURE IS HERE.
    </div>

    <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-6 text-gray-900">
      The future of <span class="animated-gradient">Onchain Prediction</span><br>starts here.
    </h1>

    <p class="text-gray-700 max-w-4xl mx-auto mb-10 leading-relaxed text-base md:text-lg">
      <strong>Prohesis</strong> is a decentralized, blockchain-native prediction market designed to prioritize on-chain transparency, security, and user ownership. Every trade, outcome resolution, and reward distribution happens directly on-chain, ensuring verifiable fairness, censorship resistance, and trustless settlement. Prohesis empowers users to forecast real-world events, leverage crypto-native liquidity, and earn incentives for contributing accurate predictions.
    </p>

    <!-- Email Form -->
    <form id="email-form" class="max-w-md mx-auto mb-6">
      <div class="glass-form flex items-center overflow-hidden p-1 relative">
        <input 
          type="email" id="email-input" name="email" required 
          class="w-full pl-4 pr-32 py-3 text-gray-800 placeholder-gray-500 focus:outline-none bg-transparent" 
          placeholder="Enter your email to join the waitlist">
        <button 
          type="submit" id="submit-button" 
          class="absolute right-1.5 top-1.5 bottom-1.5 bg-gradient-to-r from-gray-800 to-gray-900 text-white font-semibold px-5 rounded-lg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-800 flex items-center justify-center">
          <span id="button-text">Join</span>
          <div id="loader" class="loader hidden"></div>
        </button>
      </div>
    </form>

    <!-- Success Replacement -->
    <div id="form-replacement-container" class="hidden max-w-md mx-auto mb-6">
      <div class="glass-form text-center p-6">
        <p id="form-replacement-message" class="text-lg font-semibold text-gray-800"></p>
      </div>
    </div>

    <p id="response-message" class="mt-4 text-center font-medium h-6"></p>

    <h2 class="text-3xl font-extrabold tracking-wider text-gray-900 mt-4">
      üöÄ TRY PROHESIS üöÄ
    </h2>
  </main>

  <script>
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxNY7pQb3lrEfG8TpEv1SxejgH6xO8XI7GgSFzckhoaatMac2t0sL2ksIToOHRZIndgmQ/exec';
    const form = document.getElementById('email-form');
    const submitButton = document.getElementById('submit-button');
    const buttonText = document.getElementById('button-text');
    const loader = document.getElementById('loader');
    const responseMessage = document.getElementById('response-message');
    const emailInput = document.getElementById('email-input');
    const dotsBg = document.getElementById('dots-bg');
    const formReplacementContainer = document.getElementById('form-replacement-container');
    const formReplacementMessage = document.getElementById('form-replacement-message');

    document.addEventListener('mousemove', (e) => {
      const x = (e.clientX / window.innerWidth) - 0.5;
      const y = (e.clientY / window.innerHeight) - 0.5;
      dotsBg.style.transform = `translateX(${-x * 30}px) translateY(${-y * 20}px)`;
    });

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      buttonText.classList.add('hidden');
      loader.classList.remove('hidden');
      submitButton.disabled = true;
      emailInput.disabled = true;
      responseMessage.textContent = '';

      const getLocation = () => new Promise((resolve) => {
        if (!navigator.geolocation) {
          resolve('Geolocation not supported');
          return;
        }
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const { latitude, longitude } = pos.coords;
            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`)
              .then(res => res.json())
              .then(data => {
                if (data && data.address) {
                  const { city, state, country } = data.address;
                  resolve([city, state, country].filter(Boolean).join(', ') || 'Unknown');
                } else resolve('Unknown');
              }).catch(() => resolve('Unknown'));
          },
          () => resolve('Location permission denied'),
          { timeout: 8000 }
        );
      });

      const location = await getLocation();
      const metadata = navigator.userAgent;
      const formData = new FormData(form);
      formData.append('location', location);
      formData.append('metadata', metadata);
      formData.append('email', emailInput.value);

      try {
        const res = await fetch(SCRIPT_URL, { method: 'POST', body: formData });
        const result = await res.json();
        if (result.result === 'success') {
          form.classList.add('hidden');
          formReplacementMessage.textContent = 'üéâ Thank you! You‚Äôre on the list for early access!';
          formReplacementContainer.classList.remove('hidden');
          confetti({ particleCount: 160, spread: 90, origin: { y: 0.6 } });
        } else if (result.result === 'duplicate') {
          form.classList.add('hidden');
          formReplacementMessage.textContent = 'üëç You‚Äôre already registered. Stay tuned!';
          formReplacementContainer.classList.remove('hidden');
        } else throw new Error(result.message || 'Something went wrong');
      } catch (err) {
        responseMessage.textContent = 'Error: ' + err.message;
        responseMessage.classList.add('text-red-600');
      } finally {
        if (!form.classList.contains('hidden')) {
          buttonText.classList.remove('hidden');
          loader.classList.add('hidden');
          submitButton.disabled = false;
          emailInput.disabled = false;
        }
      }
    });
  </script>
</body>
</html>

